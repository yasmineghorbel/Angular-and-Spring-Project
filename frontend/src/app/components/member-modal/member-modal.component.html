<div
    data-dialog-backdrop="dialog-md"
    data-dialog-backdrop-close="true"
    class="h-400-px w-500-px place-items-center  backdrop-blur-sm transition-opacity duration-300"
  >
    <div
      data-dialog="dialog-sm"
      class="relative m-4 p-4 w-full rounded-lg bg-white shadow-sm"
    >
      <div class="flex shrink-0 items-center pb-4 text-xl font-medium text-slate-800">
        {{action}} member 
      </div>
      <div class="relative border-t border-slate-200 py-4 leading-normal text-slate-600 font-light">
        <form [formGroup]="form">
            
             <div class="flex w-full items-start gap-4">
                <!-- CIN -->
                <div class="form-group w-full">
                      <label>CIN</label>
                      <input
                        formControlName="cin"
                        type="text"
                        placeholder="Enter CIN"
                        class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow"
                      />
                      <span
                        *ngIf="submitted && form.get('cin')?.hasError('required')"
                        class="text-sm text-red-500 mt-1 block"
                      >
                        CIN is required
                      </span>
                  </div>
                  <!-- Name -->
                  <div class="form-group w-full">
                      <label>Name</label>
                      <input
                        formControlName="name"
                        type="text"
                        placeholder="Enter Name"
                        class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow"
                      />
                      <span
                        *ngIf="submitted && form.get('name')?.hasError('required')"
                        class="text-sm text-red-500 mt-1 block"
                      >
                        Name is required
                      </span>
                    </div>
             </div>
            
            <!-- Email -->
            <div class="form-group w-full">
                <label>Email</label>
                <input
                  formControlName="email"
                  type="email"
                  placeholder="Enter Email"
                  class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow"
                />
                <span
                  *ngIf="submitted && form.get('email')?.hasError('required')"
                  class="text-sm text-red-500 mt-1 block"
                >
                  Email is required
                </span>
              </div>
            <!-- Type -->
            <div class="form-group w-full">
                <label>Type</label>
                <div class="relative">
                  <select  [(ngModel)]="type"
                    formControlName="type"
                    class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded pl-3 pr-8 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md appearance-none cursor-pointer"
                  >
                    <option value="">--Please choose a type--</option>
                    <option value="Student">Student</option>
                    <option value="Professor">Professor</option>
                  </select>
                </div>
                <span
                  *ngIf="submitted && form.get('type')?.hasError('required')"
                  class="text-sm text-red-500 mt-1 block"
                >
                  Type is required
                </span>
              </div>

            <div class="flex w-full items-start gap-4" *ngIf="form.get('type')?.value === 'Student'">
                <!-- Date d'Inscription -->
                <div class="form-group w-1/3">
                  <label for="dateInscription" class="block text-sm font-medium text-gray-700">Inscription Date</label>
                  <div class="relative">
                    <input
                      type="text"
                      readonly
                      placeholder="Select a date"
                      [matDatepicker]="picker"
                      formControlName="dateInscription"
                      class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow"
                    />
                    <mat-datepicker-toggle
                      matSuffix
                      [for]="picker"
                      class="absolute right-0 top-1/2 transform -translate-y-1/2"
                    ></mat-datepicker-toggle>
                  </div>
                  <mat-datepicker #picker></mat-datepicker>
                  <span
                    *ngIf="submitted && form.get('dateInscription')?.hasError('required')"
                    class="text-sm text-red-500 mt-1 block"
                  >
                    Inscription Date is required
                  </span>
                </div>
              
                <!-- Diploma -->
                <div class="form-group w-full">
                  <label for="diploma" class="block text-sm font-medium text-gray-700">Diploma</label>
                  <input
                    formControlName="diploma"
                    type="text"
                    placeholder="Enter diploma"
                    class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow"
                  />
                  <span
                    *ngIf="submitted && form.get('diploma')?.hasError('required')"
                    class="text-sm text-red-500 mt-1 block"
                  >
                    Diploma is required
                  </span>
                </div>
              </div>
              
            
              <div  class="flex w-full items-start gap-4" *ngIf="form.get('type')?.value === 'Professor'">
                <div class="form-group w-1/2">
                  <label for="grade">Grade</label>
                  <input id="grade"  placeholder="Enter grade" formControlName="grade" type="text" class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow" />
                  <span
                  *ngIf="submitted && form.get('grade')?.hasError('required')"
                  class="text-sm text-red-500 mt-1 block"
                > Grade is required</span> 
                 </div>
            
                <div  class="form-group w-1/2" >
                  <label >Establishment</label>
                  <input formControlName="establishment"  placeholder="Enter establishment" type="text" class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow" />
                  <span
                  *ngIf="submitted && form.get('establishment')?.hasError('required')"
                  class="text-sm text-red-500 mt-1 block"
                >
                 establishment is required
                </span>  
             </div>
              </div>
            
          
            <!-- Created Date -->
            <div class="form-group">
              <div class="w-full max-w-sm min-w-[200px]">
                <label>Birth Date</label>
                <div class="flex items-center relative">
                  <input
                    type="text"
                    readonly
                    placeholder="Select a date"
                    [matDatepicker]="picker"
                    formControlName="birthDate"
                    class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow"
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker"
                    class="absolute right-0 top-1/2 transform -translate-y-1/2"
                  ></mat-datepicker-toggle>
                </div>
                <mat-datepicker #picker></mat-datepicker>
                <span
                  *ngIf="submitted && form.get('birthDate')?.hasError('required')"
                  class="text-sm text-red-500 mt-1 block"
                >
                  Birth Date is required
                </span>
              </div>
            </div>
          
            <!-- CV -->
            <div class="form-group">
              <div class="w-full max-w-sm min-w-[200px]">
                <label>CV</label>
                <div class="relative">
                  <input
                    (change)="onFileSelected($event, 'cv')"
                    type="file"
                    style="width: 130px;"
                  />
                  <span>{{ form.get('cv')?.value }}</span>
                </div>
                <span
                  *ngIf="submitted && form.get('cv')?.hasError('required')"
                  class="text-sm text-red-500 mt-1 block"
                >
                  CV is required
                </span>
              </div>
            </div>
          
            <!-- Picture -->
            <div class="form-group">
              <div class="w-full max-w-sm min-w-[200px]">
                <label>Picture</label>
                <div class="relative">
                  <input
                    (change)="onFileSelected($event, 'pic')"
                    type="file"
                    style="width: 130px;"
                  />
                  <span>{{ form.get('pic')?.value }}</span>
                </div>
                <span
                  *ngIf="submitted && form.get('pic')?.hasError('required')"
                  class="text-sm text-red-500 mt-1 block"
                >
                  Picture is required
                </span>
              </div>
            </div>
          </form>
          
          
      </div>
      <div class="flex shrink-0 flex-wrap items-center pt-4 justify-end">
        <button [mat-dialog-close]="true" class="rounded-md border border-transparent py-2 px-4 text-center text-sm transition-all text-slate-600 hover:bg-slate-100 focus:bg-slate-100 active:bg-slate-100 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none" type="button">
          Cancel
        </button>
        <button  (click)="onSubmit()"  data-dialog-close="true" class="rounded-md bg-red-600 py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-red-700 focus:shadow-none active:bg-red-700 hover:bg-red-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2" type="submit">
          Confirm
        </button>
      </div>
    </div>
  </div>